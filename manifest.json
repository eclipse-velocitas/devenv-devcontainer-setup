{
    "components": [
        {
            "id": "devcontainer-setup",
            "type": "setup",
            "files": [
                {
                    "src": "setup/src/common",
                    "dst": ".devcontainer"
                },
                {
                    "src": "setup/src/${{ language }}/common",
                    "dst": ".devcontainer"
                },
                {
                    "src": "setup/src/${{ language }}/${{ repoType }}",
                    "dst": ".devcontainer"
                }
            ],
            "variables": [
                {
                    "name": "language",
                    "type": "string",
                    "required": true,
                    "description": "The programming language of the project. Either 'python' or 'cpp'"
                },
                {
                    "name": "repoType",
                    "type": "string",
                    "required": true,
                    "description": "The type of the repository: 'app' or 'sdk'"
                },
                {
                    "name": "appManifestPath",
                    "type": "string",
                    "required": true,
                    "description": "Path of the AppManifest file, relative to the .velocitas.json"
                }
            ]
        },
        {
            "id": "model-generator",
            "type": "setup",
            "onPostInit": [
                {
                    "ref": "install-deps"
                },
                {
                    "ref": "download-vspec"
                },
                {
                    "ref": "generate-model"
                }
            ],
            "programs": [
                {
                    "id": "install-deps",
                    "executable": "python",
                    "args": ["./model-generator/src/install_deps.py"]
                },
                {
                    "id": "download-vspec",
                    "executable": "python",
                    "args": ["./model-generator/src/download_vspec.py"]
                },
                {
                    "id": "generate-model",
                    "executable": "python",
                    "args": ["./model-generator/src/generate_model.py"]
                }
            ],
            "variables": [
                {
                    "name": "installModelGenerator",
                    "type": "boolean",
                    "default": true,
                    "description": "Should the initialization of this component download and install the model generator? Not needed, if it already is part of the base image."
                },
                {
                    "name": "generatedModelPath",
                    "type": "string",
                    "default": "auto",
                    "description": "Absolute path where to generate the vehicle model. If set to 'auto' the model will be generated in the project cache."
                }
            ]
        }
    ]
}
